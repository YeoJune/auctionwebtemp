<!-- pages/appr/index.html -->
<!-- ë©”ì¸ í˜ì´ì§€ -->
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CAS ëª…í’ˆê°ì •ì‹œìŠ¤í…œ</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Montserrat:wght@500;600;700&display=swap"
      rel="stylesheet" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Noto Sans KR", sans-serif;
        color: #333;
        line-height: 1.6;
        background-color: #fff;
      }

      .container {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }
      /* í—¤ë” & í‘¸í„° ê³µí†µ ìŠ¤íƒ€ì¼ (ë‹¤ë¥¸ appr í˜ì´ì§€ì—ì„œ ê°€ì ¸ì˜´) */

      header {
        background-color: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        position: sticky;
        top: 0;
        z-index: 1000;
      }

      .header-inner {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 18px 0;
        max-width: 1200px;
        margin: 0 auto;
      }

      .header-left {
        display: flex;
        align-items: center;
        gap: 40px;
      }

      .logo {
        font-size: 1.6rem;
        font-weight: 700;
        color: #1a2a3a;
        text-decoration: none;
        letter-spacing: -0.5px;
        display: flex;
        align-items: center;
      }

      .logo .cas-highlight {
        background: linear-gradient(135deg, #1a2a3a 0%, #2d4263 100%);
        -background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      /* í˜ì´ì§€ ì „í™˜ ê´€ë ¨ ìŠ¤íƒ€ì¼ */

      .page {
        display: none;
      }

      .page.active {
        display: block;
      }
      /* ìŠ¬ë¼ì´ë” ê´€ë ¨ ìŠ¤íƒ€ì¼ */

      .slider-item {
        opacity: 0;
        transition: opacity 1s ease-in-out;
      }

      .slider-item.active {
        opacity: 1;
      }
      /* ë°˜ì‘í˜• ê·¸ë¦¬ë“œ ì„¤ì • */

      @media (min-width: 768px) {
        .nav-desktop {
          display: flex !important;
          gap: 8px;
        }
        .mobile-menu-btn {
          display: none !important;
        }
        .grid-2 {
          grid-template-columns: repeat(2, 1fr) !important;
        }
        .grid-3 {
          grid-template-columns: repeat(3, 1fr) !important;
        }
        .grid-4 {
          grid-template-columns: repeat(4, 1fr) !important;
        }
        .process-line {
          display: block !important;
        }
      }

      @media (min-width: 1024px) {
        .nav-desktop {
          gap: 12px;
        }
        .nav-desktop a {
          padding: 8px 16px;
          font-size: 1rem;
        }
      }
      /* ëª¨ë˜ ë””ìì¸ ìš”ì†Œ */

      .glass-card {
        background: rgba(255, 255, 255, 0.7);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      .gradient-bg {
        background: linear-gradient(135deg, #f6f9fc 0%, #eef2f8 100%);
      }

      .gradient-primary {
        background: linear-gradient(135deg, #1a2a3a 0%, #2d4263 100%);
      }

      .btn-modern {
        padding: 14px 28px;
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .btn-modern:before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 0;
        height: 100%;
        background: rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;
        z-index: -1;
      }

      .btn-modern:hover:before {
        width: 100%;
      }

      .fade-in {
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.6s ease;
      }

      .fade-in.visible {
        opacity: 1;
        transform: translateY(0);
      }

      .input-modern {
        border: none;
        background-color: #f8fafc;
        border-radius: 8px;
        padding: 16px;
        font-size: 1rem;
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
        transition: all 0.3s;
      }

      .input-modern:focus {
        outline: none;
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1),
          0 0 0 2px rgba(26, 42, 58, 0.2);
      }

      .hover-lift {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .hover-lift:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
      }

      .nav-desktop {
        display: none;
        align-items: center;
        gap: 8px;
        flex-wrap: nowrap;
        justify-content: flex-end;
      }

      .nav-desktop a {
        color: #333;
        text-decoration: none;
        font-weight: 500;
        white-space: nowrap;
        padding: 8px 12px;
        border-radius: 6px;
        transition: all 0.3s ease;
        font-size: 0.95rem;
      }

      .nav-desktop a:hover {
        color: #666;
        background-color: rgba(0, 0, 0, 0.05);
      }

      .mobile-menu-btn {
        display: block;
        background: none;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
      }
    </style>
  </head>

  <body>
    <!-- í—¤ë” -->
    <header
      style="
        background-color: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        position: sticky;
        top: 0;
        z-index: 1000;
      ">
      <div class="container">
        <div class="header-inner">
          <div class="header-left">
            <a href="/appr" class="logo">
              <img
                src="https://i.ibb.co/FqJhVh0T/image.png"
                alt="CAS ëª…í’ˆê°ì •ì‹œìŠ¤í…œ"
                style="height: 40px" />
            </a>

            <nav class="nav-desktop">
              <a href="/appr" class="btn-modern">í™ˆ</a>
              <a href="/appr/request" class="btn-modern">ê°ì •ì‹ ì²­</a>
              <a href="/appr/result" class="btn-modern">ê°ì •ë²ˆí˜¸ì¡°íšŒ</a>
              <a href="/appr/mypage" class="btn-modern">ë§ˆì´í˜ì´ì§€</a>
              <a href="/appr/repair" class="btn-modern">ê¹Œì‚¬ë³µì›ì‹œìŠ¤í…œ</a>
              <a href="/appr/authenticity" class="btn-modern">ì •ê°€í’ˆêµ¬ë³„ë²•</a>
              <a href="/appr/signin" class="btn-modern">ë¡œê·¸ì¸</a>
            </nav>
          </div>

          <button
            class="mobile-menu-btn"
            id="menu-icon"
            onclick="toggleMobileMenu()">
            â˜°
          </button>
        </div>
      </div>
    </header>

    <div
      class="mobile-menu"
      id="mobile-menu"
      style="
        display: none;
        position: fixed;
        top: 70px;
        left: 0;
        right: 0;
        background-color: #fff;
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        z-index: 999;
      ">
      <a
        href="/appr"
        style="
          display: block;
          padding: 15px 20px;
          color: #4a5568;
          text-decoration: none;
          border-bottom: 1px solid #e2e8f0;
        "
        >í™ˆ</a
      >
      <a
        href="/appr/request"
        style="
          display: block;
          padding: 15px 20px;
          color: #4a5568;
          text-decoration: none;
          border-bottom: 1px solid #e2e8f0;
        "
        >ê°ì •ì‹ ì²­</a
      >
      <a
        href="/appr/result"
        style="
          display: block;
          padding: 15px 20px;
          color: #4a5568;
          text-decoration: none;
          border-bottom: 1px solid #e2e8f0;
        "
        >ê°ì •ë²ˆí˜¸ì¡°íšŒ</a
      >
      <a
        href="/appr/mypage"
        style="
          display: block;
          padding: 15px 20px;
          color: #4a5568;
          text-decoration: none;
          border-bottom: 1px solid #e2e8f0;
        "
        >ë§ˆì´í˜ì´ì§€</a
      >
      <a
        href="/appr/repair"
        style="
          display: block;
          padding: 15px 20px;
          color: #4a5568;
          text-decoration: none;
          border-bottom: 1px solid #e2e8f0;
        "
        >ê¹Œì‚¬ë³µì›ì‹œìŠ¤í…œ</a
      >
      <a
        href="/appr/authenticity"
        style="
          display: block;
          padding: 15px 20px;
          color: #4a5568;
          text-decoration: none;
          border-bottom: 1px solid #e2e8f0;
        "
        >ì •ê°€í’ˆêµ¬ë³„ë²•</a
      >
      <a
        href="/appr/signin"
        style="
          display: block;
          padding: 15px 20px;
          color: #4a5568;
          text-decoration: none;
        "
        >ë¡œê·¸ì¸</a
      >
    </div>

    <!-- ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ -->
    <main>
      <!-- í™ˆí˜ì´ì§€ -->
      <div id="home" class="page active">
        <!-- ë©”ì¸ ë¹„ì£¼ì–¼ ì„¹ì…˜ (ìŠ¬ë¼ì´ë”) -->
        <section
          class="main-slider"
          style="
            position: relative;
            height: 650px;
            overflow: hidden;
            border-radius: 0 0 30px 30px;
          ">
          <div class="slider-container" style="width: 100%; height: 100%">
            <div
              class="slider-item active"
              style="
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(135deg, #1a2a3a 0%, #2d4263 100%);
              ">
              <div
                style="
                  position: absolute;
                  top: 0;
                  left: 0;
                  right: 0;
                  bottom: 0;
                  background-image: url('https://i.ibb.co/RTnppKwn/freepik-the-style-is-candid-image-photography-with-natural-80904.jpg');
                  background-size: cover;
                  background-position: center;
                  opacity: 0.7;
                  mix-blend-mode: overlay;
                "></div>

              <div
                style="
                  position: absolute;
                  top: 0;
                  left: 0;
                  width: 100%;
                  height: 100%;
                  display: flex;
                  align-items: center;
                ">
                <div
                  class="container"
                  style="max-width: 1200px; margin: 0 auto; padding: 0 20px">
                  <div
                    style="max-width: 600px; color: #fff"
                    class="fade-in visible">
                    <h1
                      style="
                        font-size: 3.5rem;
                        font-weight: 700;
                        margin-bottom: 20px;
                        line-height: 1.2;
                        letter-spacing: -1px;
                      ">
                      ì •í™•í•œ<br /><span style="color: #e2e8f0">ëª…í’ˆê°ì •</span>
                    </h1>
                    <p
                      style="
                        font-size: 1.25rem;
                        margin-bottom: 30px;
                        color: rgba(255, 255, 255, 0.9);
                        line-height: 1.6;
                      ">
                      êµ­ë‚´ ìµœê³  ì „ë¬¸ê°€ì˜ ì •ë°€í•œ ê°ì • ì„œë¹„ìŠ¤ë¡œ<br />ì†Œì¤‘í•œ ëª…í’ˆì˜
                      ê°€ì¹˜ë¥¼ í™•ì¸í•˜ì„¸ìš”.
                    </p>
                    <div style="display: flex; gap: 15px">
                      <a
                        href="/appr/request"
                        class="btn-modern"
                        style="
                          padding: 15px 30px;
                          background-color: #fff;
                          color: #1a2a3a;
                          text-decoration: none;
                          font-weight: 600;
                          border-radius: 8px;
                          transition: all 0.3s;
                        ">
                        ê°ì • ì‹ ì²­í•˜ê¸°
                      </a>
                      <a
                        href="/appr/result"
                        class="btn-modern"
                        style="
                          padding: 15px 30px;
                          background-color: transparent;
                          color: #fff;
                          text-decoration: none;
                          font-weight: 600;
                          border-radius: 8px;
                          border: 1px solid rgba(255, 255, 255, 0.7);
                          transition: all 0.3s;
                        ">
                        ê°ì •ì„œ ì¡°íšŒí•˜ê¸°
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ìµœê·¼ ê°ì • ë‚´ì—­ ì„¹ì…˜ -->
        <section
          id="recent-appraisals"
          style="padding: 40px 0; background-color: #fff">
          <div
            class="container"
            style="max-width: 1200px; margin: 0 auto; padding: 0 20px">
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
              ">
              <p style="color: #4a5568; font-size: 1.1rem">
                ëª…í’ˆê°ì •
                <span id="count-display"
                  >ì „ì²´ <strong id="total-appraisals-count">0</strong></span
                >
                ê±´
              </p>
              <div
                class="toggle-container"
                style="
                  display: flex;
                  align-items: center;
                  background-color: #f1f5f9;
                  border-radius: 20px;
                  padding: 4px;
                ">
                <button
                  id="toggle-all"
                  class="toggle-btn active"
                  style="
                    cursor: pointer;
                    padding: 6px 12px;
                    border-radius: 16px;
                    border: none;
                    background-color: #1a2a3a;
                    color: white;
                    font-weight: 500;
                    transition: all 0.2s ease;
                  ">
                  ì „ì²´
                </button>
                <button
                  id="toggle-today"
                  class="toggle-btn"
                  style="
                    cursor: pointer;
                    padding: 6px 12px;
                    border-radius: 16px;
                    border: none;
                    background-color: transparent;
                    font-weight: 500;
                    transition: all 0.2s ease;
                  ">
                  ì˜¤ëŠ˜
                </button>
              </div>
            </div>
            <div
              id="appraisal-list-container"
              style="
                border: 1px solid #e2e8f0;
                border-radius: 8px;
                overflow: hidden;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
                max-height: 500px;
                overflow-y: auto;
              ">
              <!-- ê°ì • ë‚´ì—­ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤. -->
              <p
                id="loading-appraisals"
                style="padding: 15px; text-align: center; color: #4a5568">
                ê°ì • ë‚´ì—­ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
              </p>
            </div>
          </div>
        </section>

        <!-- ì„œë¹„ìŠ¤ ì†Œê°œ ì„¹ì…˜ -->
        <section style="padding: 80px 0; background-color: #f8fafc">
          <div
            class="container"
            style="max-width: 1200px; margin: 0 auto; padding: 0 20px">
            <div
              style="
                text-align: center;
                max-width: 800px;
                margin: 0 auto 60px auto;
              ">
              <h2
                style="
                  font-size: 2.25rem;
                  font-weight: 700;
                  color: #1a2a3a;
                  margin-bottom: 20px;
                ">
                CAS ëª…í’ˆê°ì •ì‹œìŠ¤í…œ
              </h2>
              <p style="color: #4a5568; font-size: 1.1rem; line-height: 1.7">
                CAS ëª…í’ˆê°ì •ì‹œìŠ¤í…œì˜ ì „ë¬¸ê°€ë“¤ì€ ìˆ˜ì‹­ ë…„ì˜ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ
                ì •í™•í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ê°ì • ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ê¹Œë‹¤ë¡œìš´ ë‚´ë¶€
                ê²€ì¦ ì‹œìŠ¤í…œìœ¼ë¡œ í•­ìƒ ìµœê³  ìˆ˜ì¤€ì˜ ê°ì • ê²°ê³¼ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤.
              </p>
            </div>

            <div
              style="
                display: grid;
                grid-template-columns: repeat(1, 1fr);
                gap: 30px;
              "
              class="grid-3">
              <div
                class="service-card"
                style="
                  background-color: #fff;
                  padding: 40px 30px;
                  border-radius: 8px;
                  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
                  transition: all 0.3s;
                ">
                <div
                  style="
                    width: 70px;
                    height: 70px;
                    background-color: #ebf4ff;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border-radius: 12px;
                    margin-bottom: 25px;
                  ">
                  <span style="font-size: 1.75rem">ğŸ”—</span>
                </div>
                <h3
                  style="
                    font-size: 1.3rem;
                    font-weight: 700;
                    color: #1a2a3a;
                    margin-bottom: 15px;
                  ">
                  í€µë§í¬ ê°ì •
                </h3>
                <p style="color: #4a5568; line-height: 1.7">
                  ê°„í¸í•œ ë§í¬ ê³µìœ ë¡œ ë¹ ë¥¸ ê°ì • ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. íŒë§¤ìì™€
                  êµ¬ë§¤ì ëª¨ë‘ê°€ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¤‘ë¦½ì ì¸ ê°ì • ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”.
                </p>
              </div>

              <div
                class="service-card"
                style="
                  background-color: #fff;
                  padding: 40px 30px;
                  border-radius: 8px;
                  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
                  transition: all 0.3s;
                ">
                <div
                  style="
                    width: 70px;
                    height: 70px;
                    background-color: #ebf4ff;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border-radius: 12px;
                    margin-bottom: 25px;
                  ">
                  <span style="font-size: 1.75rem">âœ“</span>
                </div>
                <h3
                  style="
                    font-size: 1.3rem;
                    font-weight: 700;
                    color: #1a2a3a;
                    margin-bottom: 15px;
                  ">
                  ì˜¤í”„ë¼ì¸ ì‹¤ë¬¼ ê°ì •
                </h3>
                <p style="color: #4a5568; line-height: 1.7">
                  ì˜¤í”„ë¼ì¸ ë§¤ì¥ì—ì„œ ì‹¤ë¬¼ì„ ì§ì ‘ í™•ì¸í•˜ëŠ” ì •ë°€ ê°ì • ì„œë¹„ìŠ¤ë¥¼
                  ì œê³µí•©ë‹ˆë‹¤. ë” ìì„¸í•œ ìƒíƒœ í™•ì¸ì´ í•„ìš”í•œ ê²½ìš° ì¶”ì²œí•©ë‹ˆë‹¤.
                </p>
              </div>

              <div
                class="service-card"
                style="
                  background-color: #fff;
                  padding: 40px 30px;
                  border-radius: 8px;
                  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
                  transition: all 0.3s;
                ">
                <div
                  style="
                    width: 70px;
                    height: 70px;
                    background-color: #ebf4ff;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border-radius: 12px;
                    margin-bottom: 25px;
                  ">
                  <span style="font-size: 1.75rem">â±</span>
                </div>
                <h3
                  style="
                    font-size: 1.3rem;
                    font-weight: 700;
                    color: #1a2a3a;
                    margin-bottom: 15px;
                  ">
                  ê³µì‹ ê°ì •ì„œ ë°œê¸‰
                </h3>
                <p style="color: #4a5568; line-height: 1.7">
                  QRì½”ë“œê°€ í¬í•¨ëœ ê³µì‹ ê°ì •ì„œë¥¼ ë°œê¸‰í•´ ë“œë¦½ë‹ˆë‹¤. ìœ„ë³€ì¡°ê°€
                  ë¶ˆê°€ëŠ¥í•˜ë©° ì–¸ì œë“ ì§€ ì§„ìœ„ í™•ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                </p>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- í‘¸í„° -->
    <footer
      style="background-color: #1a2a3a; color: #fff; padding: 40px 0 20px">
      <div class="container">
        <div
          style="
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 30px;
            margin-bottom: 30px;
          "
          class="grid-3">
          <div>
            <h3
              style="font-size: 1.25rem; font-weight: 700; margin-bottom: 15px">
              <span style="font-size: 0.9rem; vertical-align: top">â“’</span> CAS
              ëª…í’ˆê°ì •ì‹œìŠ¤í…œ
            </h3>
            <p style="color: #cbd5e0; margin-bottom: 20px">
              ìµœê³ ì˜ ì „ë¬¸ê°€ë“¤ì´ í•¨ê»˜í•˜ëŠ”<br />
              êµ­ë‚´ ìµœê³  ëª…í’ˆ ê°ì • ì„œë¹„ìŠ¤
            </p>
          </div>

          <div>
            <h3
              style="font-size: 1.1rem; font-weight: 700; margin-bottom: 15px">
              ì„œë¹„ìŠ¤
            </h3>
            <ul style="list-style: none; padding: 0; margin: 0">
              <li style="margin-bottom: 10px">
                <a
                  href="/appr/request"
                  style="color: #cbd5e0; text-decoration: none"
                  >ê°ì • ì‹ ì²­</a
                >
              </li>
              <li style="margin-bottom: 10px">
                <a
                  href="/appr/result"
                  style="color: #cbd5e0; text-decoration: none"
                  >ê°ì •ì„œ ì¡°íšŒ</a
                >
              </li>
              <li style="margin-bottom: 10px">
                <a
                  href="/appr/repair"
                  style="color: #cbd5e0; text-decoration: none"
                  >ê¹Œì‚¬ë³µì›ì‹œìŠ¤í…œ</a
                >
              </li>
              <li style="margin-bottom: 10px">
                <a
                  href="/appr/authenticity"
                  style="color: #cbd5e0; text-decoration: none"
                  >ì •ê°€í’ˆêµ¬ë³„ë²•</a
                >
              </li>
              <li>
                <a
                  href="/appr/mypage"
                  style="color: #cbd5e0; text-decoration: none"
                  >ë§ˆì´í˜ì´ì§€</a
                >
              </li>
            </ul>
          </div>

          <div>
            <h3
              style="font-size: 1.1rem; font-weight: 700; margin-bottom: 15px">
              ì •ë³´
            </h3>
            <ul style="list-style: none; padding: 0; margin: 0">
              <li style="margin-bottom: 10px">
                <a href="#" style="color: #cbd5e0; text-decoration: none"
                  >íšŒì‚¬ ì†Œê°œ</a
                >
              </li>
              <li style="margin-bottom: 10px">
                <a href="#" style="color: #cbd5e0; text-decoration: none"
                  >ì´ìš©ì•½ê´€</a
                >
              </li>
              <li>
                <a href="#" style="color: #cbd5e0; text-decoration: none"
                  >ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a
                >
              </li>
            </ul>
          </div>
        </div>

        <div
          style="
            border-top: 1px solid #2d3748;
            padding-top: 20px;
            text-align: center;
            color: #a0aec0;
            font-size: 0.875rem;
          ">
          <p>Â© 2025 CAS ëª…í’ˆê°ì •ì‹œìŠ¤í…œ. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script>
      function toggleMobileMenu() {
        const mobileMenu = document.getElementById("mobile-menu");
        const menuIcon = document.getElementById("menu-icon");
        if (mobileMenu.style.display === "block") {
          mobileMenu.style.display = "none";
          if (menuIcon) menuIcon.textContent = "â˜°";
        } else {
          mobileMenu.style.display = "block";
          if (menuIcon) menuIcon.textContent = "âœ•";
        }
      }

      let currentSlide = 0;
      const slides = document.querySelectorAll(".slider-item");
      function changeSlide(n) {
        if (slides.length === 0) return;
        slides[currentSlide].classList.remove("active");
        currentSlide = n;
        slides[currentSlide].classList.add("active");
      }
      if (slides.length > 1) {
        setInterval(() => {
          let nextSlide = currentSlide + 1;
          if (nextSlide >= slides.length) nextSlide = 0;
          changeSlide(nextSlide);
        }, 5000);
      }

      document.addEventListener("DOMContentLoaded", function () {
        const mobileMenuButton = document.querySelector(".mobile-menu-btn");
        const navDesktop = document.querySelector(".nav-desktop");

        function handleResponsiveLayout() {
          if (window.innerWidth >= 768) {
            // 768px ì´ìƒì—ì„œëŠ” ë°ìŠ¤í¬í†± ë©”ë‰´ í‘œì‹œ
            if (navDesktop) navDesktop.style.display = "flex";
            if (mobileMenuButton) mobileMenuButton.style.display = "none";
            const mobileMenu = document.getElementById("mobile-menu");
            if (mobileMenu) mobileMenu.style.display = "none";
          } else {
            if (navDesktop) navDesktop.style.display = "none";
            if (mobileMenuButton) mobileMenuButton.style.display = "block";
          }
        }
        handleResponsiveLayout();
        window.addEventListener("resize", handleResponsiveLayout);

        function handleScrollAnimations() {
          const elements = document.querySelectorAll(".fade-in");
          elements.forEach((element) => {
            const position = element.getBoundingClientRect();
            if (
              position.top < window.innerHeight * 0.85 &&
              position.bottom >= 0
            ) {
              element.classList.add("visible");
            }
          });
        }
        window.addEventListener("scroll", handleScrollAnimations);
        handleScrollAnimations();

        // --- ìµœê·¼ ê°ì • ë‚´ì—­ ë°ì´í„° ë¡œë“œ ---
        const totalAppraisalsCountEl = document.getElementById(
          "total-appraisals-count"
        );
        const countDisplayEl = document.getElementById("count-display");
        const appraisalListContainer = document.getElementById(
          "appraisal-list-container"
        );
        const loadingAppraisalsEl =
          document.getElementById("loading-appraisals");
        const toggleAllBtn = document.getElementById("toggle-all");
        const toggleTodayBtn = document.getElementById("toggle-today");

        let isToday = false; // ì´ˆê¸°ê°’ì€ ì „ì²´ ë³´ê¸°

        // í† ê¸€ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        toggleAllBtn.addEventListener("click", function () {
          if (!isToday) return;
          isToday = false;
          toggleAllBtn.classList.add("active");
          toggleAllBtn.style.backgroundColor = "#1a2a3a";
          toggleAllBtn.style.color = "white";
          toggleTodayBtn.classList.remove("active");
          toggleTodayBtn.style.backgroundColor = "transparent";
          toggleTodayBtn.style.color = "#1a2a3a";
          countDisplayEl.innerHTML = `ì „ì²´ <strong id="total-appraisals-count">${totalAppraisalsCountEl.textContent}</strong>`;
          loadAppraisals(false);
        });

        toggleTodayBtn.addEventListener("click", function () {
          if (isToday) return;
          isToday = true;
          toggleTodayBtn.classList.add("active");
          toggleTodayBtn.style.backgroundColor = "#1a2a3a";
          toggleTodayBtn.style.color = "white";
          toggleAllBtn.classList.remove("active");
          toggleAllBtn.style.backgroundColor = "transparent";
          toggleAllBtn.style.color = "#1a2a3a";
          countDisplayEl.innerHTML = `ì˜¤ëŠ˜ <strong id="total-appraisals-count">${totalAppraisalsCountEl.textContent}</strong>`;
          loadAppraisals(true);
        });

        // ê°ì • ë‚´ì—­ ë¡œë“œ í•¨ìˆ˜
        function loadAppraisals(todayOnly) {
          if (loadingAppraisalsEl) loadingAppraisalsEl.style.display = "block";
          if (appraisalListContainer) appraisalListContainer.innerHTML = "";
          appraisalListContainer.appendChild(loadingAppraisalsEl);

          let url = "/api/appr/appraisals?limit=0";
          if (todayOnly) {
            url += "&today=true";
          }

          fetch(url)
            .then((response) => response.json())
            .then((data) => {
              if (loadingAppraisalsEl)
                loadingAppraisalsEl.style.display = "none";
              if (
                data.success &&
                data.appraisals &&
                data.appraisals.length > 0
              ) {
                totalAppraisalsCountEl.textContent =
                  data.pagination.totalItems.toLocaleString();

                data.appraisals.forEach((appraisal) => {
                  const itemDiv = document.createElement("div");
                  itemDiv.className = "appraisal-item";
                  itemDiv.setAttribute(
                    "data-certificate",
                    appraisal.certificate_number
                  );
                  itemDiv.style.display = "grid";
                  itemDiv.style.gridTemplateColumns = "1fr auto";
                  itemDiv.style.gap = "15px";
                  itemDiv.style.padding = "15px";
                  itemDiv.style.borderBottom = "1px solid #e2e8f0";
                  itemDiv.style.alignItems = "center";
                  itemDiv.style.cursor = "pointer";

                  const infoDiv = document.createElement("div");
                  infoDiv.className = "appraisal-info";

                  const titleP = document.createElement("p");
                  titleP.style.fontWeight = "500";
                  titleP.style.color = "#1a2a3a";
                  titleP.style.marginBottom = "5px";

                  const typeSpan = document.createElement("span");
                  typeSpan.className = "appraisal-type";
                  typeSpan.style.backgroundColor = "#e6eefa";
                  typeSpan.style.color = "#1a4ea3";
                  typeSpan.style.padding = "3px 8px";
                  typeSpan.style.borderRadius = "4px";
                  typeSpan.style.fontSize = "0.75rem";
                  typeSpan.style.marginRight = "5px";

                  // appraisal_typeì— ë”°ë¼ í…ìŠ¤íŠ¸ ì„¤ì •
                  let appraisalTypeText = "ì˜¨ë¼ì¸ ì‚¬ì§„ ëª…í’ˆ ê°ì •";
                  if (appraisal.appraisal_type === "quicklink") {
                    appraisalTypeText = "í€µë§í¬ ê°ì •";
                  } else if (appraisal.appraisal_type === "offline") {
                    appraisalTypeText = "ì˜¤í”„ë¼ì¸ ì‹¤ë¬¼ ëª…í’ˆ ê°ì •";
                  }
                  typeSpan.textContent = appraisalTypeText;

                  titleP.appendChild(typeSpan);
                  titleP.appendChild(
                    document.createTextNode(
                      ` ${appraisal.brand || ""} ${
                        appraisal.model_name || ""
                      }`.trim()
                    )
                  );

                  const metaP = document.createElement("p");
                  metaP.style.fontSize = "0.875rem";
                  metaP.style.color = "#4a5568";
                  const date = new Date(appraisal.created_at).toLocaleString(
                    "ko-KR",
                    {
                      year: "numeric",
                      month: "2-digit",
                      day: "2-digit",
                      hour: "2-digit",
                      minute: "2-digit",
                    }
                  );
                  metaP.textContent = `ê°ì •ë²ˆí˜¸: ${appraisal.certificate_number} | ì‹ ì²­ì¼: ${date}`;

                  infoDiv.appendChild(titleP);
                  infoDiv.appendChild(metaP);

                  const statusDiv = document.createElement("div");
                  statusDiv.className = "appraisal-status";
                  const statusSpan = document.createElement("span");
                  statusSpan.style.padding = "5px 10px";
                  statusSpan.style.borderRadius = "4px";
                  statusSpan.style.fontSize = "0.75rem";
                  if (appraisal.status === "completed") {
                    statusSpan.textContent = "ê°ì •ì™„ë£Œ";
                    statusSpan.style.backgroundColor = "#d1fae5";
                    statusSpan.style.color = "#059669";
                  } else if (appraisal.status === "in_review") {
                    statusSpan.textContent = "ê°ì •ì¤‘";
                    statusSpan.style.backgroundColor = "#e0f2fe";
                    statusSpan.style.color = "#0369a1";
                  } else if (appraisal.status === "pending") {
                    statusSpan.textContent = "ì ‘ìˆ˜ì™„ë£Œ";
                    statusSpan.style.backgroundColor = "#e0f2fe";
                    statusSpan.style.color = "#0369a1";
                  } else if (appraisal.status === "cancelled") {
                    statusSpan.textContent = "ì·¨ì†Œë¨";
                    statusSpan.style.backgroundColor = "#f1f5f9";
                    statusSpan.style.color = "#334155";
                  } else {
                    statusSpan.textContent = appraisal.status; // ê¸°íƒ€ ìƒíƒœ ê·¸ëŒ€ë¡œ í‘œì‹œ
                    statusSpan.style.backgroundColor = "#f1f5f9";
                    statusSpan.style.color = "#334155";
                  }
                  statusDiv.appendChild(statusSpan);

                  itemDiv.appendChild(infoDiv);
                  itemDiv.appendChild(statusDiv);
                  if (appraisalListContainer) {
                    appraisalListContainer.appendChild(itemDiv);
                  }

                  // í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
                  itemDiv.addEventListener("click", function () {
                    const certificateNumber =
                      this.getAttribute("data-certificate");
                    if (certificateNumber) {
                      window.location.href = `https://casastrade.com/appr/result/${certificateNumber}`;
                    }
                  });
                });
              } else if (data.appraisals && data.appraisals.length === 0) {
                if (appraisalListContainer)
                  appraisalListContainer.innerHTML =
                    '<p style="padding: 15px; text-align: center; color: #4a5568;">ê°ì • ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
                totalAppraisalsCountEl.textContent = "0";
              } else {
                if (appraisalListContainer)
                  appraisalListContainer.innerHTML =
                    '<p style="padding: 15px; text-align: center; color: #dc2626;">ê°ì • ë‚´ì—­ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>';
              }
            })
            .catch((error) => {
              console.error("ê°ì • ëª©ë¡ ë¡œë“œ ì‹¤íŒ¨:", error);
              if (loadingAppraisalsEl)
                loadingAppraisalsEl.style.display = "none";
              if (appraisalListContainer)
                appraisalListContainer.innerHTML =
                  '<p style="padding: 15px; text-align: center; color: #dc2626;">ê°ì • ë‚´ì—­ ë¡œë“œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ.</p>';
            });
        }

        // ì´ˆê¸° ë°ì´í„° ë¡œë“œ (ì „ì²´)
        loadAppraisals(false);
        // --- ìµœê·¼ ê°ì • ë‚´ì—­ ë°ì´í„° ë¡œë“œ ë ---

        document
          .querySelectorAll('a[href^="request.html?tab="]')
          .forEach((link) => {
            const tabName = new URL(
              link.href,
              window.location.origin
            ).searchParams.get("tab");
            if (tabName) link.href = `/appr/request?tab=${tabName}`;
          });

        // ìƒì„¸ í˜ì´ì§€ ì´ë™ í•¸ë“¤ëŸ¬ ì¶”ê°€ (ê°ì • ê²°ê³¼ í´ë¦­ì‹œ)
        document.querySelectorAll(".appraisal-item").forEach((item) => {
          item.addEventListener("click", function () {
            const appraisalId = this.getAttribute("data-id");
            if (appraisalId) {
              window.location.href = `/appr/quick-result/${appraisalId}`;
            }
          });
        });

        const certificateSearchForm = document.getElementById(
          "certificate-search-form"
        ); // í¼ IDê°€ ì´ê²ƒì´ë¼ê³  ê°€ì •
        if (certificateSearchForm) {
          certificateSearchForm.addEventListener("submit", function (event) {
            event.preventDefault();
            const certificateNumberInput =
              document.getElementById("certificate-number"); // ì…ë ¥ í•„ë“œ ID
            if (certificateNumberInput && certificateNumberInput.value.trim()) {
              window.location.href = `/appr/result/${encodeURIComponent(
                certificateNumberInput.value.trim()
              )}`;
            } else {
              alert("ê°ì •ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            }
          });
        }
      });
      // ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¼ ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ì„ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜
      function updateAuthButton() {
        // ì„œë²„ì— ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ API í˜¸ì¶œ
        fetch("/api/auth/user", {
          method: "GET",
          credentials: "include", // ì¿ í‚¤ë¥¼ í¬í•¨í•˜ì—¬ ìš”ì²­ ì „ì†¡
        })
          .then((response) => response.json())
          .then((data) => {
            // ë¡œê·¸ì¸ ë²„íŠ¼ ìš”ì†Œë“¤ ê°€ì ¸ì˜¤ê¸° (ë°ìŠ¤í¬í†± ë° ëª¨ë°”ì¼)
            const desktopAuthButton = document.querySelector(
              '.nav-desktop a[href="/appr/signin"]'
            );
            const mobileAuthButton = document.querySelector(
              '#mobile-menu a[href="/appr/signin"]'
            );

            if (data.user && data.user.id) {
              // ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ëœ ê²½ìš°, ë¡œê·¸ì¸ ë²„íŠ¼ì„ ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ìœ¼ë¡œ ë³€ê²½
              if (desktopAuthButton) {
                desktopAuthButton.textContent = "ë¡œê·¸ì•„ì›ƒ";
                desktopAuthButton.setAttribute("href", "#");
                desktopAuthButton.addEventListener("click", handleLogout);
              }

              if (mobileAuthButton) {
                mobileAuthButton.textContent = "ë¡œê·¸ì•„ì›ƒ";
                mobileAuthButton.setAttribute("href", "#");
                mobileAuthButton.addEventListener("click", handleLogout);
              }
            }
          })
          .catch((error) => {
            console.error("ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:", error);
          });
      }

      // ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬ í•¨ìˆ˜
      function handleLogout(event) {
        event.preventDefault();

        fetch("/api/auth/logout", {
          method: "POST",
          credentials: "include", // ì¿ í‚¤ë¥¼ í¬í•¨í•˜ì—¬ ìš”ì²­ ì „ì†¡
        })
          .then((response) => {
            if (response.ok) {
              // ë¡œê·¸ì•„ì›ƒ ì„±ê³µ ì‹œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
              window.location.reload();
            } else {
              console.error("ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨");
            }
          })
          .catch((error) => {
            console.error("ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:", error);
          });
      }

      // DOMContentLoaded ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
      document.addEventListener("DOMContentLoaded", function () {
        updateAuthButton();
      });
    </script>
  </body>
</html>
