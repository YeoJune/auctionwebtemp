<!-- pages/appr/authenticity.html -->
<!-- 정가품구별법 페이지 -->
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>정가품구별법 - CAS 명품감정시스템</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Montserrat:wght@500;600;700&display=swap"
      rel="stylesheet" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Noto Sans KR", sans-serif;
        color: #333;
        line-height: 1.6;
        background-color: #fff;
      }

      .container {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }
      /* 헤더 & 푸터 공통 스타일 (다른 appr 페이지에서 가져옴) */

      header {
        background-color: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        position: sticky;
        top: 0;
        z-index: 1000;
      }

      .header-inner {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 18px 0;
        max-width: 1200px;
        margin: 0 auto;
      }

      .header-left {
        display: flex;
        align-items: center;
        gap: 40px;
      }

      .logo {
        font-size: 1.6rem;
        font-weight: 700;
        color: #1a2a3a;
        text-decoration: none;
        letter-spacing: -0.5px;
        display: flex;
        align-items: center;
      }

      .logo .cas-highlight {
        background: linear-gradient(135deg, #1a2a3a 0%, #2d4263 100%);
        background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      /* 반응형 그리드 설정 */

      @media (min-width: 768px) {
        .nav-desktop {
          display: flex !important;
        }
        .mobile-menu-btn {
          display: none !important;
        }
      }
      /* 모던 디자인 요소 */

      .btn-modern {
        padding: 14px 28px;
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .btn-modern:before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 0;
        height: 100%;
        background: rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;
        z-index: -1;
      }

      .btn-modern:hover:before {
        width: 100%;
      }
      /* 브랜드별 아코디언 스타일 */

      .accordion {
        margin-bottom: 15px;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      }

      .accordion-header {
        background-color: #fff;
        padding: 15px 20px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #e2e8f0;
      }

      .accordion-header h3 {
        font-size: 1.1rem;
        font-weight: 600;
        margin: 0;
      }

      .accordion-content {
        background-color: #f8fafc;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
      }

      .accordion-content.active {
        max-height: 1000px;
        /* 충분한 값으로 설정 */
      }

      .accordion-content-inner {
        padding: 20px;
      }

      .nav-desktop {
        display: none;
        align-items: center;
        gap: 8px;
        flex-wrap: nowrap;
        justify-content: flex-end;
      }

      .nav-desktop a {
        color: #333;
        text-decoration: none;
        font-weight: 500;
        white-space: nowrap;
        padding: 8px 12px;
        border-radius: 6px;
        transition: all 0.3s ease;
        font-size: 0.95rem;
      }

      .nav-desktop a:hover {
        color: #666;
        background-color: rgba(0, 0, 0, 0.05);
      }

      .mobile-menu-btn {
        display: block;
        background: none;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
      }

      .mobile-menu {
        display: none;
        position: fixed;
        top: 70px;
        left: 0;
        right: 0;
        background-color: #fff;
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        z-index: 999;
      }

      .mobile-menu a {
        display: block;
        padding: 15px 20px;
        color: #4a5568;
        text-decoration: none;
        border-bottom: 1px solid #e2e8f0;
      }

      @media (max-width: 768px) {
        .nav-desktop {
          display: none;
        }
        .mobile-menu-btn {
          display: block;
        }
      }
      
      #loading-guides {
        text-align: center;
        padding: 40px 20px;
        font-size: 1.1rem;
        color: #4a5568;
      }
      
      #error-message {
        text-align: center;
        padding: 20px;
        font-size: 1rem;
        color: #e53e3e;
        display: none;
      }
    </style>
  </head>

  <body>
    <!-- 헤더 -->
    <header>
      <div class="container">
        <div class="header-inner">
          <div class="header-left">
            <a href="/appr" class="logo">
              <img
                src="https://i.ibb.co/FqJhVh0T/image.png"
                alt="CAS 명품감정시스템"
                style="height: 40px" />
            </a>

            <nav class="nav-desktop">
              <a href="/appr" class="btn-modern">홈</a>
              <a href="/appr/request" class="btn-modern">감정신청</a>
              <a href="/appr/result" class="btn-modern">감정번호조회</a>
              <a href="/appr/mypage" class="btn-modern">마이페이지</a>
              <a href="/appr/repair" class="btn-modern">까사복원시스템</a>
              <a href="/appr/authenticity" class="btn-modern">정가품구별법</a>
              <a href="/appr/signin" class="btn-modern">로그인</a>
            </nav>
          </div>

          <button
            class="mobile-menu-btn"
            id="menu-icon"
            onclick="toggleMobileMenu()">
            ☰
          </button>
        </div>
      </div>
    </header>

    <div
      class="mobile-menu"
      id="mobile-menu"
      style="
        display: none;
        position: fixed;
        top: 70px;
        left: 0;
        right: 0;
        background-color: #fff;
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        z-index: 999;
      ">
      
        href="/appr"
        style="
          display: block;
          padding: 15px 20px;
          color: #4a5568;
          text-decoration: none;
          border-bottom: 1px solid #e2e8f0;
        "
        >홈</a
      >
      
        href="/appr/request"
        style="
          display: block;
          padding: 15px 20px;
          color: #4a5568;
          text-decoration: none;
          border-bottom: 1px solid #e2e8f0;
        "
        >감정신청</a
      >
      
        href="/appr/result"
        style="
          display: block;
          padding: 15px 20px;
          color: #4a5568;
          text-decoration: none;
          border-bottom: 1px solid #e2e8f0;
        "
        >감정번호조회</a
      >
      
        href="/appr/mypage"
        style="
          display: block;
          padding: 15px 20px;
          color: #4a5568;
          text-decoration: none;
          border-bottom: 1px solid #e2e8f0;
        "
        >마이페이지</a
      >
      
        href="/appr/repair"
        style="
          display: block;
          padding: 15px 20px;
          color: #4a5568;
          text-decoration: none;
          border-bottom: 1px solid #e2e8f0;
        "
        >까사복원시스템</a
      >
      
        href="/appr/authenticity"
        style="
          display: block;
          padding: 15px 20px;
          color: #4a5568;
          text-decoration: none;
          border-bottom: 1px solid #e2e8f0;
        "
        >정가품구별법</a
      >
      
        href="/appr/signin"
        style="
          display: block;
          padding: 15px 20px;
          color: #4a5568;
          text-decoration: none;
        "
        >로그인</a
      >
    </div>

    <!-- 메인 콘텐츠 영역 -->
    <main>
      <section style="padding: 80px 0; background-color: #f8fafc">
        <div
          class="container"
          style="max-width: 800px; margin: 0 auto; padding: 0 20px">
          <h1
            style="
              font-size: 2.5rem;
              font-weight: 700;
              color: #1a2a3a;
              margin-bottom: 50px;
              text-align: center;
            ">
            브랜드별 정/가품 구별법
          </h1>

          <p
            style="
              color: #4a5568;
              font-size: 1.1rem;
              line-height: 1.7;
              text-align: center;
              max-width: 800px;
              margin: 0 auto 50px;
            ">
            명품 브랜드별 정품과 가품을 구분하는 방법을 확인하세요.<br />
            각 브랜드의 특징적인 요소를 통해 진위 여부를 판단할 수 있습니다.
          </p>

          <!-- 브랜드별 아코디언 UI -->
          <div id="authenticity-guides-container">
            <p id="loading-guides">정품 구별법 목록을 불러오는 중...</p>
            <p id="error-message">정품 구별법 정보를 불러오는데 실패했습니다.</p>
          </div>

          <div style="text-align: center; margin-top: 40px">
            <p style="color: #4a5568; margin-bottom: 20px">
              전문가의 정확한 감정이 필요하세요?
            </p>
            
              href="/appr/request"
              style="
                display: inline-block;
                background-color: #1a2a3a;
                color: #fff;
                padding: 15px 30px;
                border-radius: 8px;
                text-decoration: none;
                font-weight: 600;
                transition: all 0.3s;
              ">
              지금 바로 감정 신청하기
            </a>
          </div>
        </div>
      </section>
    </main>

    <!-- 푸터 -->
    <footer
      style="background-color: #1a2a3a; color: #fff; padding: 40px 0 20px">
      <div class="container">
        <div
          style="
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 30px;
            margin-bottom: 30px;
          "
          class="grid-3">
          <div>
            <h3
              style="font-size: 1.25rem; font-weight: 700; margin-bottom: 15px">
              <span style="font-size: 0.9rem; vertical-align: top">ⓒ</span> CAS
              명품감정시스템
            </h3>
            <p style="color: #cbd5e0; margin-bottom: 20px">
              최고의 전문가들이 함께하는<br />
              국내 최고 명품 감정 서비스
            </p>
          </div>

          <div>
            <h3
              style="font-size: 1.1rem; font-weight: 700; margin-bottom: 15px">
              서비스
            </h3>
            <ul style="list-style: none; padding: 0; margin: 0">
              <li style="margin-bottom: 10px">
                
                  href="/appr/request"
                  style="color: #cbd5e0; text-decoration: none"
                  >감정 신청</a
                >
              </li>
              <li style="margin-bottom: 10px">
                
                  href="/appr/result"
                  style="color: #cbd5e0; text-decoration: none"
                  >감정서 조회</a
                >
              </li>
              <li style="margin-bottom: 10px">
                
                  href="/appr/repair"
                  style="color: #cbd5e0; text-decoration: none"
                  >까사복원시스템</a
                >
              </li>
              <li style="margin-bottom: 10px">
                
                  href="/appr/authenticity"
                  style="color: #cbd5e0; text-decoration: none"
                  >정가품구별법</a
                >
              </li>
              <li>
                
                  href="/appr/mypage"
                  style="color: #cbd5e0; text-decoration: none"
                  >마이페이지</a
                >
              </li>
            </ul>
          </div>

          <div>
            <h3
              style="font-size: 1.1rem; font-weight: 700; margin-bottom: 15px">
              정보
            </h3>
            <ul style="list-style: none; padding: 0; margin: 0">
              <li style="margin-bottom: 10px">
                <a href="#" style="color: #cbd5e0; text-decoration: none"
                  >회사 소개</a
                >
              </li>
              <li style="margin-bottom: 10px">
                <a href="#" style="color: #cbd5e0; text-decoration: none"
                  >이용약관</a
                >
              </li>
              <li>
                <a href="#" style="color: #cbd5e0; text-decoration: none"
                  >개인정보처리방침</a
                >
              </li>
            </ul>
          </div>
        </div>

        <div
          style="
            border-top: 1px solid #2d3748;
            padding-top: 20px;
            text-align: center;
            color: #a0aec0;
            font-size: 0.875rem;
          ">
          <p>© 2025 CAS 명품감정시스템. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <!-- 자바스크립트 -->
    <script>
      // 모바일 메뉴 토글
      function toggleMobileMenu() {
        const mobileMenu = document.getElementById("mobile-menu");
        const menuIcon = document.getElementById("menu-icon");

        if (mobileMenu.style.display === "block") {
          mobileMenu.style.display = "none";
          if (menuIcon) menuIcon.textContent = "☰";
        } else {
          mobileMenu.style.display = "block";
          if (menuIcon) menuIcon.textContent = "✕";
        }
      }

      // 아코디언 토글 기능
      function toggleAccordion(header) {
        const content = header.nextElementSibling;
        const icon = header.querySelector(".toggle-icon");

        // 활성화된 콘텐츠 토글
        if (content.classList.contains("active")) {
          content.classList.remove("active");
          content.style.maxHeight = 0;
          icon.textContent = "▼";
        } else {
          content.classList.add("active");
          content.style.maxHeight = content.scrollHeight + "px";
          icon.textContent = "▲";
        }
      }
      
      // 정품 구별법 데이터 로드 및 표시
      function loadAuthenticityGuides() {
        const guidesContainer = document.getElementById("authenticity-guides-container");
        const loadingElement = document.getElementById("loading-guides");
        const errorElement = document.getElementById("error-message");
        
        fetch("/api/appr/appraisals/authenticity-guides")
          .then(response => response.json())
          .then(data => {
            if (loadingElement) loadingElement.style.display = "none";
            
            if (data.success && data.guides) {
              // 객체를 배열로 변환하여 순서대로 처리
              const brands = Object.keys(data.guides);
              
              if (brands.length === 0) {
                guidesContainer.innerHTML = '<p style="text-align: center; padding: 20px;">현재 등록된 정품 구별법이 없습니다.</p>';
                return;
              }
              
              let accordionsHTML = '';
              
              brands.forEach(brand => {
                const guides = data.guides[brand];
                
                // 브랜드별 아코디언 생성
                accordionsHTML += `
                  <div class="accordion">
                    <div class="accordion-header" onclick="toggleAccordion(this)">
                      <h3>${brand}</h3>
                      <span class="toggle-icon">▼</span>
                    </div>
                    <div class="accordion-content">
                      <div class="accordion-content-inner">
                `;
                
                // 각 브랜드의 구별법 항목 추가
                guides.forEach(guide => {
                  accordionsHTML += `
                    <div style="margin-bottom: 20px">
                      <h4 style="font-size: 1.1rem; font-weight: 600; margin-bottom: 10px;">
                        ${guide.title}
                      </h4>
                      <div style="display: flex; gap: 20px; margin-bottom: 20px">
                        <div style="flex: 1; text-align: center">
                          <p style="margin-bottom: 10px; font-weight: 500">정품</p>
                          <img
                            src="${guide.authentic_image || 'https://via.placeholder.com/300x200/e0e0e0/969696?text=정품'}"
                            alt="${brand} 정품 ${guide.title}"
                            style="width: 100%; border-radius: 4px" />
                        </div>
                        <div style="flex: 1; text-align: center">
                          <p style="margin-bottom: 10px; font-weight: 500">가품</p>
                          <img
                            src="${guide.fake_image || 'https://via.placeholder.com/300x200/e0e0e0/969696?text=가품'}"
                            alt="${brand} 가품 ${guide.title}"
                            style="width: 100%; border-radius: 4px" />
                        </div>
                      </div>
                      <p style="color: #4a5568; line-height: 1.7">
                        ${guide.description}
                      </p>
                    </div>
                  `;
                });
                
                accordionsHTML += `
                      </div>
                    </div>
                  </div>
                `;
              });
              
              guidesContainer.innerHTML = accordionsHTML;
              
              // 모든 아코디언의 초기 max-height 설정
              document.querySelectorAll(".accordion-content").forEach(content => {
                content.style.maxHeight = 0;
              });
              
            } else {
              if (errorElement) errorElement.style.display = "block";
            }
          })
          .catch(error => {
            console.error("정품 구별법 데이터 로드 중 오류 발생:", error);
            if (loadingElement) loadingElement.style.display = "none";
            if (errorElement) errorElement.style.display = "block";
          });
      }

      // 페이지 로드 시 기본 설정
      document.addEventListener("DOMContentLoaded", function () {
        // 모바일 메뉴 버튼 DOM 요소 가져오기
        const mobileMenuButton = document.querySelector(".mobile-menu-btn");
        const navDesktop = document.querySelector(".nav-desktop");

        // 미디어 쿼리에 따른 레이아웃 조정
        function handleResponsiveLayout() {
          if (window.innerWidth >= 768) {
            if (navDesktop) navDesktop.style.display = "flex";
            if (mobileMenuButton) mobileMenuButton.style.display = "none"; // 데스크탑에서 모바일 버튼 숨기기
            // 그리드 조정
            const grid3Elements = document.querySelectorAll(".grid-3");
            grid3Elements.forEach((el) => {
              el.style.gridTemplateColumns = "repeat(3, 1fr)";
            });
          } else {
            if (navDesktop) navDesktop.style.display = "none";
            if (mobileMenuButton) mobileMenuButton.style.display = "block"; // 모바일에서 모바일 버튼 보이기
            // 그리드 조정 (모바일에서는 1컬럼)
            const grid3Elements = document.querySelectorAll(".grid-3");
            grid3Elements.forEach((el) => {
              el.style.gridTemplateColumns = "repeat(1, 1fr)";
            });
          }
        }

        handleResponsiveLayout();
        window.addEventListener("resize", handleResponsiveLayout);
        
        // 정품 구별법 데이터 로드
        loadAuthenticityGuides();
      });
    </script>
  </body>
</html>