<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>회원 관리</title>
    <link rel="stylesheet" href="/styles/admin/common.css" />
  </head>
  <body>
    <div class="admin-layout">
      <!-- 사이드바 -->
      <div class="sidebar">
        <div class="sidebar-logo">
          <h2>경매 관리자</h2>
        </div>
        <div class="sidebar-menu">
          <a href="/admin">대시보드</a>
          <a href="/admin/live-bids">현장 경매 관리</a>
          <a href="/admin/direct-bids">직접 경매 관리</a>
          <a href="/admin/invoices">인보이스 관리</a>
          <a href="/admin/users" class="active">회원 관리</a>
          <a href="/admin/settings">관리자 설정</a>
        </div>
      </div>

      <!-- 메인 콘텐츠 -->
      <div class="main-content">
        <div class="main-header">
          <h1>회원 관리</h1>
          <div class="user-info">
            관리자
            <button id="logoutBtn" class="btn btn-secondary">로그아웃</button>
          </div>
        </div>

        <!-- 회원 추가 버튼 -->
        <div class="action-buttons mb-3">
          <button id="addUserBtn" class="btn">새 회원 등록</button>
          <button id="syncSheetsBtn" class="btn btn-secondary">
            시트 동기화
          </button>
        </div>

        <!-- 회원 목록 테이블 -->
        <div class="card">
          <table class="data-table" id="usersTable">
            <thead>
              <tr>
                <th>아이디</th>
                <th>이메일</th>
                <th>등록일</th>
                <th>상태</th>
                <th>작업</th>
              </tr>
            </thead>
            <tbody id="usersTableBody">
              <tr>
                <td colspan="5" class="text-center">
                  데이터를 불러오는 중입니다...
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- 회원 추가/수정 모달 -->
    <div class="modal-overlay" id="userFormModal">
      <div class="modal-dialog">
        <div class="modal-header">
          <h3 class="modal-title" id="userFormTitle">새 회원 등록</h3>
          <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
          <form id="userForm">
            <input type="hidden" id="editMode" value="0" />
            <div class="form-group">
              <label class="form-label" for="userId">아이디</label>
              <input type="text" id="userId" class="form-control" />
            </div>
            <div class="form-group">
              <label class="form-label" for="userPassword">비밀번호</label>
              <input type="password" id="userPassword" class="form-control" />
            </div>
            <div class="form-group">
              <label class="form-label" for="userEmail">이메일</label>
              <input type="email" id="userEmail" class="form-control" />
            </div>
            <div class="form-group">
              <label class="form-label">상태</label>
              <div class="radio-group">
                <label>
                  <input type="radio" name="userStatus" value="true" checked />
                  활성
                </label>
                <label>
                  <input type="radio" name="userStatus" value="false" />
                  비활성
                </label>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary close-modal">취소</button>
          <button class="btn" id="saveUserBtn">저장</button>
        </div>
      </div>
    </div>

    <script src="/js/admin/common.js"></script>
    <script src="/js/admin/api.js"></script>
    <script src="/js/admin/users.js"></script>
  </body>
</html>
